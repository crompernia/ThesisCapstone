{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/actions.js"],"sourcesContent":["/**\n * @fileoverview This file contains top-level server actions for the application, such as authentication.\n */\n'use server';\n\nimport { query } from '@/lib/db';\nimport { redirect } from 'next/navigation';\n\nexport async function authenticate(prevState, formData) {\n    try {\n        const email = formData.get('email');\n        const password = formData.get('password');\n        \n        const result = await query(\n            'SELECT email, password, role FROM accounts WHERE email = $1',\n            [email],\n        );\n\n        const user = result?.rows[0];\n        \n        if (!user) {\n            return 'Invalid email or password.';\n        }\n        \n        const passwordsMatch = password === user.password;\n\n        if (!passwordsMatch) {\n            return 'Invalid email or password.';\n        }\n\n        if (user.role === 'Employee') {\n            redirect('/dashboard');\n        } else if (user.role === 'HR') {\n            redirect('/hr/dashboard');\n        } else if (user.role === 'Admin') {\n            redirect('/admin/dashboard');\n        } else {\n            return 'Invalid user role.';\n        }\n    } catch (error) {\n        if (error.digest?.startsWith('NEXT_REDIRECT')) {\n            throw error;\n        }\n        console.error('Authentication error:', error);\n        return 'An unexpected error occurred. Please try again.';\n    }\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AACA;AAAA;;;;;;;;;;AAEO,eAAe,aAAa,SAAS,EAAE,QAAQ;IAClD,IAAI;QACA,MAAM,QAAQ,SAAS,GAAG,CAAC;QAC3B,MAAM,WAAW,SAAS,GAAG,CAAC;QAE9B,MAAM,SAAS,MAAM,CAAA,GAAA,gHAAA,CAAA,QAAK,AAAD,EACrB,+DACA;YAAC;SAAM;QAGX,MAAM,OAAO,QAAQ,IAAI,CAAC,EAAE;QAE5B,IAAI,CAAC,MAAM;YACP,OAAO;QACX;QAEA,MAAM,iBAAiB,aAAa,KAAK,QAAQ;QAEjD,IAAI,CAAC,gBAAgB;YACjB,OAAO;QACX;QAEA,IAAI,KAAK,IAAI,KAAK,YAAY;YAC1B,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;QACb,OAAO,IAAI,KAAK,IAAI,KAAK,MAAM;YAC3B,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;QACb,OAAO,IAAI,KAAK,IAAI,KAAK,SAAS;YAC9B,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;QACb,OAAO;YACH,OAAO;QACX;IACJ,EAAE,OAAO,OAAO;QACZ,IAAI,MAAM,MAAM,EAAE,WAAW,kBAAkB;YAC3C,MAAM;QACV;QACA,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO;IACX;AACJ;;;IAtCsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {authenticate as '608c5eb2618000e732e7b244b2dbd8b3f3f88e7cf3'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/page.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/page.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAoR,GACjT,kDACA","debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/page.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/page.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgQ,GAC7R,8BACA","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}